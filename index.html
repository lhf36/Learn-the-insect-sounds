<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />
  <title>Insect Song Learning Game</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="game-shell">
    <!-- Header -->
<header class="game-header">
  <div class="title-block">
    <h1>Insect Song Learning Game</h1>
    <p>Match insect sounds, images, and natural history facts to their owners.</p>
  </div>

  <div class="meta-block">
    <div class="pill-row">
      <span id="mode-label" class="spec-level">Mode: ‚Äî</span>

      <button
        id="mode-bubble"
        type="button"
        class="meta-pill"
        aria-label="Change game mode"
      >
        <span class="meta-dot"></span>
        Change mode
      </button>

      <button
        id="region-toggle"
        type="button"
        class="meta-pill region-toggle"
        aria-label="Change region"
      >
        üåç Region: All
      </button>
    </div>

    <!-- Scientific names toggle -->
    <button
      id="sci-toggle"
      type="button"
      class="mode-pill mode-off"
      aria-pressed="false"
    >
      Show scientific names: OFF
    </button>
  </div>
</header>


    <!-- Main layout -->
    <main class="main-layout">
      <!-- LEFT: spectrogram / image / fact / photo -->
      <section class="spectrogram-panel" aria-label="Insect sound and details">
        <div class="spectrogram-header">
          <div>
            <span id="spec-label" class="spec-label">Visualizing sound</span>
          </div>
          <div class="species-tagline-wrapper">
            <span id="spec-tagline" class="species-tagline">Who is calling?</span>
            <span id="win-mark" class="win-mark">‚úì</span>
          </div>
        </div>

        <div class="spectrogram-header">
          <span id="spec-region" class="spec-level">Region: ‚Äî</span>
          <span id="mode-hint-text" class="hint-label"></span>
        </div>

        <!-- Spectrogram / image + axes -->
        <div id="spec-axes-wrapper" class="spectrogram-with-axes">
          <div id="axis-y" class="axis-y-outside">Frequency (kHz)</div>

          <div class="spectrogram-frame">
            <img
              id="spectrogram-image"
              class="spectrogram-image"
              src=""
              alt=""
            />
            <div class="spectrogram-overlay"></div>
            <div id="amp-box" class="amp-box">Relative amplitude</div>
          </div>

          <div id="axis-x" class="axis-x-outside">Time (seconds)</div>
        </div>

        <!-- Play controls + feedback -->
        <div class="spectrogram-footer">
          <div class="play-controls">
            <button
              id="play-btn"
              type="button"
              class="play-button"
            >
              <span class="play-icon" aria-hidden="true"></span>
              <span id="play-btn-label">Play call</span>
            </button>
            <span class="hint-label">
              Press spacebar to pause/play audio.
            </span>
          </div>

          <div
            id="feedback-line"
            class="feedback-line"
          ></div>
        </div>

        <!-- Fact / description box -->
        <div
          id="fact-box"
          class="fact-box"
        >
          <div id="fact-label" class="fact-label">After the guess</div>
          <div id="fact-text" class="fact-text">
            Identify the caller to reveal a fun fact.
          </div>
        </div>

        <!-- Photo + credits -->
        <div class="photo-box">
          <img
            id="insect-photo"
            class="insect-photo hidden"
            src=""
            alt=""
          />
          <div id="credits" class="credits">
            <!-- Filled by JS with photo/audio credits and license text -->
          </div>
        </div>
      </section>

      <!-- RIGHT: answers and controls -->
      <section
        class="answers-panel"
        aria-label="Answer choices and score"
      >
        <div class="question-block">
          <div
            id="question-text"
            class="question-text"
          >
            Which insect is producing this sound?
          </div>
          <div
            id="question-subtitle"
            class="question-subtitle"
          >
            Listen as many times as you like, then choose the common name.
          </div>
        </div>

        <div
          id="answers-list"
          class="answers-list"
        >
          <!-- Filled dynamically by JS -->
        </div>

        <div class="bottom-controls">
          <div id="score-text" class="score-text">
            Score this game: <strong>0</strong> of 5
          </div>

          <button
            id="next-btn"
            type="button"
            class="next-btn"
            disabled
          >
            Next ‚ûú
          </button>
        </div>
      </section>
    </main>

    <!-- Footer -->
 <footer class="game-footer">
  <div>
    <span>
    <p class="creator-line">
  Created by Lucas H. Fink ¬∑ <a href="mailto:lhf36@cornell.edu">lhf36@cornell.edu</a>
  ¬∑ <button id="about-open" class="about-link">About</button>
</p>
    </span>
  </div>
</footer>

  </div>

  <!-- Hidden audio element (used for playback; controlled by JS) -->
  <audio id="audio-player" preload="auto"></audio>

  <!-- START OVERLAY -->
  <div
    id="start-overlay"
    class="start-overlay"
  >
    <div class="start-backdrop"></div>
    <div class="start-card">
      <div class="big-play-icon" aria-hidden="true"></div>
      <h2 class="start-title">Insect Song Learning Game</h2>
      <p class="start-subtitle">
        Click to begin a 5-round game. Start in spectrogram training mode, then
        explore image recognition and fact matching.
      </p>
      <button
        id="start-btn"
        type="button"
        class="start-button"
      >
        ‚ñ∂ Click to start
      </button>
    </div>
  </div>
<!-- ABOUT OVERLAY -->
<div id="about-overlay" class="about-overlay hidden">
  <div class="about-backdrop"></div>

  <div class="about-panel">
    <button id="about-close" class="about-close">‚úï</button>

    <img src="images/Lucas H. Fink with crab.jpeg"
         alt="Photo of Lucas H. Fink"
         class="about-photo">

    <h2 class="about-title">About the Creator</h2>

    <p class="about-text">
      <strong>Lucas H. Fink</strong> is an entomologist, bioacoustics researcher,
      and natural history educator completing his bachelor‚Äôs degree in Entomology
      and Ecology and Evolutionary Biology at Cornell University. He will graduate
      in May 2026. Lucas describes and studies acoustic behavior across a wide
      range of animals, working with the K. Lisa Yang Center for Conservation
      Bioacoustics to explore how sound can deepen our understanding of the natural
      world.
    </p>

    <p class="about-text">
      His research includes fieldwork to describe the sounds of katydids and crickets in the Brazilian
      Pantanal, dialect variation in Hawaiian honeycreepers, and long-term patterns
      in orangutan vocal behavior. He is particularly interested in how tuning into
      animal communication can reveal the ecology, behavior, and conservation needs
      of wildlife.
    </p>

    <p class="about-text">
      Beyond research, Lucas leads public science outreach and wilderness education
      as an instructor with Cornell Outdoor Education and as the founder of the
      Cornell Bioacoustics Club. He is committed to helping people develop sharper
      observation and listening skills and to inspiring curiosity about the
      biodiversity around us.
    </p>

    <p class="about-text">
      This game reflects his mission to bring the world of animal communication to
      learners and to make the experience of listening and identifying wildlife
      more engaging and accessible.
    </p>

  </div>
</div>

  
  <!-- HINT OVERLAY -->
  <div
    id="hint-overlay"
    class="hint-overlay hidden"
  >
    <div class="hint-backdrop"></div>
    <div class="hint-panel">
      <div class="hint-title">Biological hint</div>
      <div
        id="hint-text"
        class="hint-text"
      >
        <!-- Filled by JS -->
      </div>
      <button
        id="hint-close-btn"
        type="button"
        class="hint-close-btn"
      >
        Got it
      </button>
    </div>
  </div>

  <!-- MODE CHANGE OVERLAY -->
  <div
    id="mode-change-overlay"
    class="mode-change-overlay hidden"
  >
    <div class="mode-change-backdrop"></div>
    <div class="mode-change-panel">
      <div class="mode-change-title">Change game mode?</div>
      <div class="mode-change-text">
        Are you sure you want to change modes? This will start a new 5-round
        game in the selected mode.
      </div>
      <div class="mode-change-buttons">
        <button
          id="mode-change-spectro"
          type="button"
          class="mode-change-btn"
        >
          Spectrogram training
        </button>
        <button
          id="mode-change-image"
          type="button"
          class="mode-change-btn"
        >
          Image recognition
        </button>
        <button
          id="mode-change-facts"
          type="button"
          class="mode-change-btn"
        >
          Fact matching
        </button>
        <button
          id="mode-change-cancel"
          type="button"
          class="mode-change-cancel"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>

  <!-- REGION OVERLAY -->
  <div
    id="region-overlay"
    class="mode-change-overlay hidden"
  >
    <div class="mode-change-backdrop"></div>
    <div class="mode-change-panel">
      <div class="mode-change-title">Choose region</div>
      <div class="mode-change-text">
        Select a region to focus on its insects, or choose ‚ÄúAll regions‚Äù to mix
        everything together. Regions appear if there are more than five species
        available.
      </div>
      <div
        id="region-buttons"
        class="mode-change-buttons"
      >
        <!-- Filled by JS with region choices -->
      </div>
      <button
        id="region-cancel"
        type="button"
        class="mode-change-cancel"
        style="margin-top: 8px;"
      >
        Cancel
      </button>
    </div>
  </div>
  
<!-- REVEAL OVERLAY -->
<div id="reveal-overlay" class="reveal-overlay hidden">
  <div class="reveal-backdrop"></div>
  <div class="reveal-panel">
    <h2 id="reveal-title" class="reveal-title">Correct!</h2>

    <img
      id="reveal-photo"
      class="reveal-photo hidden"
      src=""
      alt=""
    />

    <div class="reveal-fact-label">Fun fact</div>
    <div id="reveal-fact-text" class="reveal-fact-text"></div>

    <button
      id="reveal-close-btn"
      type="button"
      class="reveal-close-btn"
    >
      Continue
    </button>
  </div>
</div>

  <!-- END-OF-GAME OVERLAY -->
  <div
    id="end-overlay"
    class="end-overlay hidden"
  >
    <div class="end-overlay-backdrop"></div>
    <div class="end-overlay-panel">
      <h2
        id="end-title"
        class="end-title"
      >
        Game complete!
      </h2>
      <p
        id="end-score-text"
        class="end-score-text"
      >
        You scored 0 / 5.
      </p>
      <p
        id="end-message"
        class="end-message"
      >
        <!-- Mode-specific message filled by JS -->
      </p>
      <button
        id="play-again-btn"
        type="button"
        class="play-again-btn"
      >
        ‚ñ∂ Play again
      </button>
      <div style="margin-top: 8px;">
        <button
          id="change-mode-btn"
          type="button"
          class="change-mode-btn"
        >
          Change mode
        </button>
        <button
          id="change-region-btn"
          type="button"
          class="change-region-btn"
        >
          Choose region
        </button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="analytics.js"></script>
  <script src="species-data.js"></script>
  <script src="game.js"></script>
</body>
</html>
